<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Document</title>
</head>

<body>

<script>
let a = [1, 2, [2, 3], 4]
let b = deepClone(a)
let c = deepCloneByJSON(a)
a[0] = 22
a[2] = [7, 8]
console.log('a->b->c', a, b, c)

//1.深拷贝（递归实现）
function deepClone(obj) {
    // 判断当前对象是 数组 还是 对象，如果是数组类型，即初始化一个空数组,如果是对象,初始化一个空对象
    let objClone = Array.isArray(obj) ? [] : {}
    if (obj && typeof obj == 'object') {
        for (key in obj) { //遍历对象
            if (obj.hasOwnProperty(key)) { //判断自身属性是否存在
                if (obj[key] && typeof obj[key] === "object") { //判断当前元素是否为对象，如果是将进行递归操作，继续遍历。
                    objClone[key] = deepClone(obj[key])
                } else {
                    //一维数组
                    objClone[key] = obj[key]
                }
            }
        }
    }
    return objClone;
}

//2.深拷贝（JSON.stringify）
function deepCloneByJSON(obj) {
    let _obj = JSON.stringify(obj)
    let objClone = JSON.parse(_obj);
    return objClone;
}

//Jquery 深拷贝实现-> $.extend( [deep ], target, object1 [, objectN ] )
//deep表示是否深拷贝， 为true为深拷贝， 为false， 则为浅拷贝
//target Object类型 目标对象， 其他对象的成员属性将被附加到该对象上。
//object1 objectN可选。 Object类型 第一个以及第N个被合并的对象。
{
    let a = [0, 1, [2, 3], 4]
    let b = $.extend(true, [], a)
    a[0] = 1;
    a[2][0] = 1;
    console.log(a, b);
}

{
    //浅拷贝
    //es6语法
    //对象: Object.assign({},{}) 对象合并
    //数组：Array.form 
}
</script>
</body>

</html>